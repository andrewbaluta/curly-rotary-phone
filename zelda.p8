pico-8 cartridge // http://www.pico-8.com
version 39
__lua__
--main
function _init() 
	player={
		x=63,
		y=63,
		d=3,
		fx=false,
		speed=1,
		sprite=0
	}
	init_ani()
end


function _update()
	ani_nerd()

	-- player movement
	if btn(⬅️) then
		player.x-=player.speed
		player.fx=false
	end
	if btn(⬆️) then
		player.y-=player.speed
		player.fx=false
	end
	if btn(⬇️) then
		player.y+=player.speed
		player.fx=false
	end
	if btn(➡️) then
		player.x+=player.speed
		player.fx=true
	end

-- player bounding
	if player.x<0 then
		player.x = 0
	end
	if player.y<0 then
		player.y = 0
	end
	if player.x>111 then
		player.x = 111
	end
	if player.y>111 then
		player.y = 111
	end
end

function _draw()
	cls()
	spr(player.sprite,player.x,player.y,2,2,player.fx)
end

-->8
--animation

function init_ani()
	ani_speed=5
	timer=0
	ani_down={
		sprite=0,
		first=0,
		last=2
	}
	ani_up={
		sprite=8,
		first=8,
		last=10
	}
	ani_side={
		sprite=4,
		first=4,
		last=6
	}
end

function ani_nerd()
	--down
	if btn(3) then
		if timer<ani_speed then
			timer+=1
		else
			if ani_down.sprite<ani_down.last then
				ani_down.sprite+=2
			else 
				ani_down.sprite=ani_down.first
			end
			timer=0
		end
		player.sprite=ani_down.sprite
	end
	--up
	if btn(2) then
		if timer<ani_speed then
			timer+=1
		else
			if ani_up.sprite<ani_up.last then
				ani_up.sprite+=2
			else 
				ani_up.sprite=ani_up.first
			end
			timer=0
		end
		player.sprite=ani_up.sprite
	end
	--left
	if btn(0) or btn(1) then
		if timer<ani_speed then
			timer+=1
		else
			if ani_side.sprite<ani_side.last then
				ani_side.sprite+=2
			else 
				ani_side.sprite=ani_side.first
			end
			timer=0
		end
		player.sprite=ani_side.sprite
	end
	
end

__gfx__
00000bbbbbb0000000000bbbbbb00000000000bbbb000000000000000000000000000bbbbbb0000000000bbbbbb0000000000000000000000000000000000000
0000bbbbbbbb00000000bbbbbbbb00000004444bbbbb000000000bbbb00000000000bbbbbbbb00000000bbbbbbbb000000000000000000000000000000000000
00f0b444444b0f0000f0b444444b0f0000444444bbfbbb00004444bbbbb0000000f0bbbbbbbb0f0000f0bbbbbbbb0f0000000000000000000000000000000000
00f0444444440f0000f0444444440f00000444444ffbbbb00444444bbfbbb00000fbbbbbbbbbbf0000fbbbbbbbbbbf0000000000000000000000000000000000
00ff4fbffbf4ff0000ff4fbffbf4ff00400fbff4fffbb0b000444444ffbbbb0000f4bbbbbbbb4f0000f4bbbbbbbb4f0000000000000000000000000000000000
00ff4f4ff4f4ff0000ff4f4ff4f4ff004fff4ff4ff44b00000fbff4fffbb0b0000ff44bbbb44ff0000ff44bbbb44ff0000000000000000000000000000000000
000ffffffffff400000ffffffffff400400ffffff4440000fff4ff4ff44b0000000f444bb444f000000f444bb444f00000000000000000000000000000000000
000bbff44ffbb4000000bff44ffb4400400ffffbbbb0000040ffffff444000000004b444444b40000004b444444b400000000000000000000000000000000000
044444ffffbb44400044444fffbbbf004f444bbbbbbb400040ffffbbbb0000000044bbbbbbb4400000044bbbbbbb440000000000000000000000000000000000
44f4444bbbbbf440044f4444bbbbbf004f44bbbfffb444004f44fffbb44b00000044bbbbbbb44f0000f44bbbbbbb440000000000000000000000000000000000
4fff44f44bbfff4004fff44f44bb40004044bbbfff4444004f4bfff44444000000044bbbbbb44f0000f44bbbbbb4400000000000000000000000000000000000
44f444fb4444fff0044f444fb444b00040004bbbff444400404bbff44444b000000bb444444bff0000ffb444444bb00000000000000000000000000000000000
44f444f44bbbbf00044f444f44bbb00040000444bb44b0004004bbb4444bb000000bbbbbbbbbb000000bbbbbbbbbb00000000000000000000000000000000000
444444fbbbbb00000444444fbbb4000000000bbbbbbbbb0040b4444bbbbb4400000444bbbbb4000000004bbbbb44400000000000000000000000000000000000
0fffff400444000000fffff0044400000000000444400000044bbbbbbbb444000004444004400000000004400444400000000000000000000000000000000000
00004440000000000000000004440000000000444440000000444000004440000000440000000000000000000044000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000001010101010101010000000000000000010101010101010100000000000000000101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
